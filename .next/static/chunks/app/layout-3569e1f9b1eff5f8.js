(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{1061:(e,a,t)=>{"use strict";t.d(a,{A:()=>d,I:()=>o});var r=t(51990),n=t(68232);let l=(0,r.Z0)({name:"expenses",initialState:{data:[],loading:!1,error:null,total:0,page:1,totalPages:1,totalAmount:0,currentPage:1},reducers:{setPage:(e,a)=>{e.page=a.payload}},extraReducers:e=>{e.addCase(n.hF.pending,e=>{e.loading=!0,e.error=null}).addCase(n.hF.fulfilled,(e,a)=>{e.loading=!1,e.data=a.payload.data,e.total=a.payload.total,e.page=a.payload.currentPage,e.totalPages=a.payload.totalPages}).addCase(n.hF.rejected,(e,a)=>{e.loading=!1,e.error=a.payload}).addCase(n._f.fulfilled,(e,a)=>{e.totalAmount=a.payload}).addCase(n.k5.fulfilled,(e,a)=>{e.data.unshift(a.payload),e.total+=1}).addCase(n.eY.fulfilled,(e,a)=>{let t=e.data.findIndex(e=>e._id===a.payload._id);-1!==t&&(e.data[t]=a.payload)}).addCase(n.Wz.fulfilled,(e,a)=>{e.data=e.data.filter(e=>e._id!==a.payload),e.total-=1})}}),{setPage:o}=l.actions,d=l.reducer},4653:(e,a,t)=>{"use strict";t.d(a,{A:()=>d,I:()=>o});var r=t(51990),n=t(20099);let l=(0,r.Z0)({name:"income",initialState:{data:[],total:0,currentPage:1,totalPages:1,loading:!1,error:null,overallTotalIncome:0},reducers:{setPage(e,a){e.currentPage=a.payload}},extraReducers:e=>{e.addCase(n.Sf.pending,e=>{e.loading=!0,e.error=null}).addCase(n.Sf.fulfilled,(e,a)=>{e.loading=!1,e.data=a.payload.data,e.total=a.payload.total,e.totalPages=a.payload.totalPages,e.currentPage=a.payload.currentPage}).addCase(n.Sf.rejected,(e,a)=>{e.loading=!1,e.error=a.payload}).addCase(n.JO.pending,e=>{e.loading=!0,e.error=null}).addCase(n.JO.fulfilled,(e,a)=>{e.loading=!1,e.data=a.payload}).addCase(n.JO.rejected,(e,a)=>{e.loading=!1,e.error=a.payload}).addCase(n.B$.fulfilled,()=>{}).addCase(n.XU.fulfilled,(e,a)=>{let t=e.data.findIndex(e=>e._id===a.payload._id);-1!==t&&(e.data[t]=a.payload)}).addCase(n.rJ.fulfilled,()=>{}).addCase(n.Ko.fulfilled,(e,a)=>{e.overallTotalIncome=a.payload}).addCase(n.Ko.rejected,(e,a)=>{console.error("Failed to fetch total income:",a.payload)})}}),{setPage:o}=l.actions,d=l.reducer},10022:(e,a,t)=>{"use strict";t.d(a,{f:()=>o});var r=t(51990),n=t(97829);let l=async()=>(await n.A.get("/v1/incomes/stats?period=month")).data,o=(0,r.zD)("income/fetchIncomeStats",async(e,a)=>{try{var t;let e=await l(),a=0;return"number"==typeof e.amount?a=e.amount:e.current&&e.current.$numberDecimal&&(a=Number(e.current.$numberDecimal)),{amount:a,percentChange:null!=(t=e.percentChange)?t:0}}catch(e){if(e instanceof Error)return a.rejectWithValue(e.message);return a.rejectWithValue("Failed to fetch income stats")}})},10939:(e,a,t)=>{"use strict";t.d(a,{_:()=>d});var r=t(51990),n=t(97829);let l=async()=>(await n.A.get("/v1/expenses/stats?period=month")).data;var o=t(96592);let d=(0,r.zD)("expenseStats/fetchExpenseStats",async(e,a)=>{let{rejectWithValue:t}=a;try{var r,n,d;let e=await l(),a=(null==e||null==(r=e.current)?void 0:r.$numberDecimal)?parseFloat(e.current.$numberDecimal):null!=(n=null==e?void 0:e.current)?n:0,t=null!=(d=null==e?void 0:e.percentChange)?d:0;return{amount:a,percentChange:t}}catch(e){return t((0,o.A)(e))}})},11362:(e,a,t)=>{"use strict";t.d(a,{V:()=>d});var r=t(51990),n=t(96592),l=t(97829);let o=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return(await l.A.get("/v1/transactions/recent?limit=".concat(e))).data},d=(0,r.zD)("recentTransactions/fetchRecent",async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,a=arguments.length>1?arguments[1]:void 0;try{return await o(e)}catch(e){return a.rejectWithValue((0,n.A)(e))}})},14267:(e,a,t)=>{"use strict";t.d(a,{Providers:()=>b});var r=t(95155),n=t(34540),l=t(51990),o=t(37375),d=t(4653),s=t(10022);let c=(0,l.Z0)({name:"incomeStats",initialState:{amount:0,percentChange:0,loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(s.f.pending,e=>{e.loading=!0,e.error=null}).addCase(s.f.fulfilled,(e,a)=>{e.loading=!1,e.amount=a.payload.amount,e.percentChange=a.payload.percentChange}).addCase(s.f.rejected,(e,a)=>{e.loading=!1,e.error=a.payload||"Failed to fetch income stats"})}}).reducer;var i=t(1061),u=t(10939);let p=(0,l.Z0)({name:"expenseStats",initialState:{amount:0,percentChange:0,loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(u._.pending,e=>{e.loading=!0,e.error=null}).addCase(u._.fulfilled,(e,a)=>{e.loading=!1,e.amount=a.payload.amount,e.percentChange=a.payload.percentChange}).addCase(u._.rejected,(e,a)=>{e.loading=!1,e.error=a.payload})}}).reducer;var g=t(76075);let h=(0,l.Z0)({name:"expenseCategory",initialState:{data:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(g.h.pending,e=>{e.loading=!0,e.error=null}).addCase(g.h.fulfilled,(e,a)=>{e.loading=!1,e.data=a.payload}).addCase(g.h.rejected,(e,a)=>{e.loading=!1,e.error=a.payload})}}).reducer;var f=t(19778);let m=(0,l.Z0)({name:"balance",initialState:{amount:0,percentChange:0,loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(f.X.pending,e=>{e.loading=!0,e.error=null}).addCase(f.X.fulfilled,(e,a)=>{e.loading=!1,e.amount=a.payload.amount,e.percentChange=a.payload.percentChange}).addCase(f.X.rejected,(e,a)=>{e.loading=!1,e.error=a.error.message||"Failed to fetch balance"})}}).reducer;var y=t(84712),v=t(21118);let C=(0,l.Z0)({name:"savingsGoal",initialState:{current:0,target:0,loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(y.b.pending,e=>{e.loading=!0,e.error=null}).addCase(y.b.fulfilled,(e,a)=>{e.loading=!1,e.current=a.payload.current,e.target=a.payload.target}).addCase(y.b.rejected,(e,a)=>{e.loading=!1,e.error=a.payload}).addCase(v.z.pending,e=>{e.loading=!0,e.error=null}).addCase(v.z.fulfilled,(e,a)=>{e.loading=!1,e.target=a.payload.target}).addCase(v.z.rejected,(e,a)=>{e.loading=!1,e.error=a.payload})}}).reducer;var A=t(11362);let w=(0,l.Z0)({name:"recentTransactions",initialState:{data:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(A.V.pending,e=>{e.loading=!0,e.error=null}).addCase(A.V.fulfilled,(e,a)=>{e.loading=!1,e.data=a.payload}).addCase(A.V.rejected,(e,a)=>{e.loading=!1,e.error=a.payload||"Failed to fetch recent transactions"})}}).reducer,S=(0,l.U1)({reducer:{auth:o.A,income:d.A,incomeStats:c,expenses:i.A,balance:m,expenseStats:p,savingsGoal:C,recentTransactions:w,expenseCategory:h}});function b(e){let{children:a}=e;return(0,r.jsx)(n.Kq,{store:S,children:a})}},18927:(e,a,t)=>{"use strict";t.d(a,{j:()=>r});let r=t(34540).wA},19778:(e,a,t)=>{"use strict";t.d(a,{X:()=>o});var r=t(51990),n=t(97829);let l=async()=>(await n.A.get("/v1/balance")).data,o=(0,r.zD)("balance/fetchBalance",async(e,a)=>{try{var t;return{amount:null!=(t=(await l()).balance)?t:0,percentChange:0}}catch(e){if(e instanceof Error)return a.rejectWithValue(e.message);return a.rejectWithValue("Failed to fetch balance")}})},20099:(e,a,t)=>{"use strict";t.d(a,{B$:()=>s,JO:()=>o,Ko:()=>u,Sf:()=>d,XU:()=>c,rJ:()=>i});var r=t(51990),n=t(97829),l=t(96592);let o=(0,r.zD)("income/fetchAll",async(e,a)=>{try{return(await n.A.get("/v1/incomes")).data}catch(e){return a.rejectWithValue((0,l.A)(e))}}),d=(0,r.zD)("income/fetchPaginated",async(e,a)=>{let{page:t,limit:r}=e;try{return(await n.A.get("/v1/incomes/paginated?page=".concat(t,"&limit=").concat(r))).data}catch(e){return a.rejectWithValue((0,l.A)(e))}}),s=(0,r.zD)("income/addIncome",async(e,a)=>{try{return(await n.A.post("/v1/incomes",e)).data}catch(e){return a.rejectWithValue((0,l.A)(e))}}),c=(0,r.zD)("income/update",async(e,a)=>{let{id:t,data:r}=e;try{return(await n.A.put("/v1/incomes/".concat(t),r)).data}catch(e){return a.rejectWithValue((0,l.A)(e))}}),i=(0,r.zD)("income/delete",async(e,a)=>{try{return await n.A.delete("/v1/incomes/".concat(e)),e}catch(e){return a.rejectWithValue((0,l.A)(e))}}),u=(0,r.zD)("income/fetchTotalIncome",async(e,a)=>{try{return(await n.A.get("/v1/incomes/total")).data.total}catch(e){return a.rejectWithValue((0,l.A)(e))}})},21118:(e,a,t)=>{"use strict";t.d(a,{z:()=>d});var r=t(51990),n=t(97829);let l=async function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a?(await n.A.post("/v1/savings-goal",e)).data:(await n.A.put("/v1/savings-goal",e)).data};var o=t(96592);let d=(0,r.zD)("savingsGoal/setSavingsGoal",async(e,a)=>{let{rejectWithValue:t,getState:r}=a;try{var n;let a=r(),t=!a.savingsGoal||!a.savingsGoal.target||a.savingsGoal.target<=0;return{target:null!=(n=(await l(e,t)).amount)?n:e.amount}}catch(e){return t((0,o.A)(e))}})},30347:()=>{},35695:(e,a,t)=>{"use strict";var r=t(18999);t.o(r,"useParams")&&t.d(a,{useParams:function(){return r.useParams}}),t.o(r,"usePathname")&&t.d(a,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(a,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(a,{useSearchParams:function(){return r.useSearchParams}})},37375:(e,a,t)=>{"use strict";t.d(a,{A:()=>d,r:()=>o});var r=t(51990),n=t(82909);let l=(0,r.Z0)({name:"auth",initialState:{user:null,token:null,loading:!1,error:null,hasFetchedUser:!1},reducers:{logout:e=>{e.user=null,e.token=null,e.hasFetchedUser=!1,localStorage.removeItem("token")}},extraReducers:e=>{e.addCase(n.Lx.pending,e=>{e.loading=!0,e.error=null}).addCase(n.Lx.fulfilled,(e,a)=>{e.loading=!1,e.token=a.payload.token,e.user={id:a.payload.id,email:a.payload.email,first_name:"",last_name:""},e.hasFetchedUser=!1}).addCase(n.Lx.rejected,(e,a)=>{e.loading=!1,e.error=a.payload}).addCase(n.DY.pending,e=>{e.loading=!0,e.error=null}).addCase(n.DY.fulfilled,(e,a)=>{e.loading=!1,e.user={id:a.payload._id,email:a.payload.email,first_name:a.payload.first_name,last_name:a.payload.last_name},e.token=a.payload.token,e.hasFetchedUser=!0}).addCase(n.DY.rejected,(e,a)=>{e.loading=!1,e.error=a.payload}).addCase(n.im.pending,e=>{e.loading=!0}).addCase(n.im.fulfilled,(e,a)=>{e.loading=!1,e.user={id:a.payload._id,email:a.payload.email,first_name:a.payload.first_name,last_name:a.payload.last_name},e.hasFetchedUser=!0}).addCase(n.im.rejected,(e,a)=>{e.loading=!1,e.error=a.payload,e.hasFetchedUser=!0})}}),{logout:o}=l.actions,d=l.reducer},48031:(e,a,t)=>{"use strict";t.d(a,{SpeedInsights:()=>p});var r=t(12115),n=t(35695),l=t(49509),o=()=>{window.si||(window.si=function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];(window.siq=window.siq||[]).push(a)})};function d(){return"development"===function(){return"production"}()}function s(e){return new RegExp("/".concat(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"(?=[/?#]|$)"))}function c(e){(0,r.useEffect)(()=>{var a;e.beforeSend&&(null==(a=window.si)||a.call(window,"beforeSend",e.beforeSend))},[e.beforeSend]);let a=(0,r.useRef)(null);return(0,r.useEffect)(()=>{if(a.current)e.route&&a.current(e.route);else{var t,r;let n=function(){var e;let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("undefined"==typeof window||null===a.route)return null;o();let t=a.scriptSrc?a.scriptSrc:d()?"https://va.vercel-scripts.com/v1/speed-insights/script.debug.js":a.dsn?"https://va.vercel-scripts.com/v1/speed-insights/script.js":a.basePath?"".concat(a.basePath,"/speed-insights/script.js"):"/_vercel/speed-insights/script.js";if(document.head.querySelector('script[src*="'.concat(t,'"]')))return null;a.beforeSend&&(null==(e=window.si)||e.call(window,"beforeSend",a.beforeSend));let r=document.createElement("script");return r.src=t,r.defer=!0,r.dataset.sdkn="@vercel/speed-insights"+(a.framework?"/".concat(a.framework):""),r.dataset.sdkv="1.2.0",a.sampleRate&&(r.dataset.sampleRate=a.sampleRate.toString()),a.route&&(r.dataset.route=a.route),a.endpoint?r.dataset.endpoint=a.endpoint:a.basePath&&(r.dataset.endpoint="".concat(a.basePath,"/speed-insights/vitals")),a.dsn&&(r.dataset.dsn=a.dsn),d()&&!1===a.debug&&(r.dataset.debug="false"),r.onerror=()=>{console.log("[Vercel Speed Insights] Failed to load script from ".concat(t,". Please check if any content blockers are enabled and try again."))},document.head.appendChild(r),{setRoute:e=>{r.dataset.route=null!=e?e:void 0}}}({framework:null!=(t=e.framework)?t:"react",basePath:null!=(r=e.basePath)?r:function(){if(void 0!==l&&void 0!==l.env)return l.env.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}(),...e});n&&(a.current=n.setRoute)}},[e.route]),null}var i=()=>{let e=(0,n.useParams)(),a=(0,n.useSearchParams)()||new URLSearchParams,t=(0,n.usePathname)();return e?function(e,a){if(!e||!a)return e;let t=e;try{let e=Object.entries(a);for(let[a,r]of e)if(!Array.isArray(r)){let e=s(r);e.test(t)&&(t=t.replace(e,"/[".concat(a,"]")))}for(let[a,r]of e)if(Array.isArray(r)){let e=s(r.join("/"));e.test(t)&&(t=t.replace(e,"/[...".concat(a,"]")))}return t}catch(a){return e}}(t,Object.keys(e).length?e:Object.fromEntries(a.entries())):null};function u(e){let a=i();return r.createElement(c,{route:a,...e,framework:"next",basePath:function(){if(void 0!==l&&void 0!==l.env)return l.env.NEXT_PUBLIC_VERCEL_OBSERVABILITY_BASEPATH}()})}function p(e){return r.createElement(r.Suspense,{fallback:null},r.createElement(u,{...e}))}},65356:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_e8ce0c"}},68232:(e,a,t)=>{"use strict";t.d(a,{Wz:()=>i,_f:()=>d,eY:()=>c,hF:()=>o,k5:()=>s});var r=t(51990),n=t(97829),l=t(96592);let o=(0,r.zD)("expenses/fetchPaginated",async(e,a)=>{let{page:t,limit:r}=e;try{return(await n.A.get("/v1/expenses/paginated?page=".concat(t,"&limit=").concat(r))).data}catch(e){return a.rejectWithValue((0,l.A)(e))}}),d=(0,r.zD)("expenses/fetchTotal",async(e,a)=>{try{return(await n.A.get("/v1/expenses/total")).data.total}catch(e){return a.rejectWithValue((0,l.A)(e))}}),s=(0,r.zD)("expenses/add",async(e,a)=>{try{return(await n.A.post("/v1/expenses",e)).data}catch(e){return a.rejectWithValue((0,l.A)(e))}}),c=(0,r.zD)("expenses/update",async(e,a)=>{let{id:t,data:r}=e;try{return(await n.A.put("/v1/expenses/".concat(t),r)).data}catch(e){return a.rejectWithValue((0,l.A)(e))}}),i=(0,r.zD)("expenses/delete",async(e,a)=>{try{return await n.A.delete("/v1/expenses/".concat(e)),e}catch(e){return a.rejectWithValue((0,l.A)(e))}})},76075:(e,a,t)=>{"use strict";t.d(a,{h:()=>d});var r=t(51990),n=t(97829);let l=async e=>(await n.A.get("/v1/expenses/category-summary?month=".concat(e))).data;var o=t(96592);let d=(0,r.zD)("expense/fetchExpenseCategorySummary",async(e,a)=>{let{rejectWithValue:t}=a;try{return await l(e)}catch(e){return t((0,o.A)(e))}})},82598:(e,a,t)=>{"use strict";t.d(a,{default:()=>o});var r=t(12115),n=t(18927),l=t(82909);function o(){let e=(0,n.j)();return(0,r.useEffect)(()=>{e((0,l.im)())},[e]),null}},82909:(e,a,t)=>{"use strict";t.d(a,{DY:()=>d,Lx:()=>o,im:()=>s});var r=t(51990),n=t(97829),l=t(96592);let o=(0,r.zD)("auth/login",async(e,a)=>{let{email:t,password:r}=e;try{let{token:e,email:a,id:l}=(await n.A.post("/auth/login",{email:t,password:r})).data;return e&&localStorage.setItem("token",e),{token:e,email:a,id:l}}catch(e){return a.rejectWithValue((0,l.A)(e))}}),d=(0,r.zD)("auth/register",async(e,a)=>{let{first_name:t,last_name:r,email:o,password:d}=e;try{let e=await n.A.post("/auth/signup",{first_name:t,last_name:r,email:o,password:d});return localStorage.setItem("token",e.data.token),console.log("registerUser response.data:",e.data),e.data}catch(e){return a.rejectWithValue((0,l.A)(e))}}),s=(0,r.zD)("auth/fetchUser",async(e,a)=>{let{rejectWithValue:t}=a;try{let e=localStorage.getItem("token");if(console.log("fetchUser token:",e),!e)return t("No token found");let a=await n.A.get("/auth/user");return console.log("fetchUser response:",a.data),a.data}catch(e){return console.error("fetchUser error:",e),t((0,l.A)(e))}})},84712:(e,a,t)=>{"use strict";t.d(a,{b:()=>d});var r=t(51990),n=t(96592),l=t(97829);let o=async()=>(await l.A.get("/v1/savings-goal")).data,d=(0,r.zD)("savingsGoal/fetchSavingsGoal",async(e,a)=>{let{rejectWithValue:t}=a;try{var r,l,d;let e=await o(),a=null!=(l=null!=(r=e.target)?r:e.amount)?l:0;return{current:null!=(d=e.current)?d:0,target:a}}catch(e){return t((0,n.A)(e))}})},84718:(e,a,t)=>{Promise.resolve().then(t.bind(t,48031)),Promise.resolve().then(t.t.bind(t,65356,23)),Promise.resolve().then(t.bind(t,13568)),Promise.resolve().then(t.t.bind(t,30347,23)),Promise.resolve().then(t.bind(t,82598)),Promise.resolve().then(t.bind(t,14267))},96592:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=e=>{var a,t;return"object"==typeof e&&null!==e&&"response"in e&&"string"==typeof(null==(t=e.response)||null==(a=t.data)?void 0:a.message)?e.response.data.message:"An unknown error occurred"}},97829:(e,a,t)=>{"use strict";t.d(a,{A:()=>l});let r=t(23464).A.create({headers:{"Content-Type":"application/json"}}),n=()=>{{let e="https://personal-finance-tracker-backend-kin7.onrender.com";return console.log("proceee",e),e?"".concat(e,"/api"):"/api"}};r.interceptors.request.use(e=>{e.baseURL=n();let a=localStorage.getItem("token");return a&&e.headers&&(e.headers.Authorization="Bearer ".concat(a)),e},e=>Promise.reject(e)),r.interceptors.response.use(e=>e,e=>{var a;if((null==(a=e.response)?void 0:a.status)===401){localStorage.removeItem("token");let e=window.location.pathname;window.location.href="/login?redirectTo=".concat(encodeURIComponent(e))}return Promise.reject(e)});let l=r}},e=>{var a=a=>e(e.s=a);e.O(0,[444,533,441,684,358],()=>a(84718)),_N_E=e.O()}]);