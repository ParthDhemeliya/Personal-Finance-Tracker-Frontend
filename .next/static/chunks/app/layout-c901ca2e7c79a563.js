(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{1061:(e,a,t)=>{"use strict";t.d(a,{A:()=>o,I:()=>d});var r=t(51990),n=t(68232);let l=(0,r.Z0)({name:"expenses",initialState:{data:[],loading:!1,error:null,total:0,page:1,totalPages:1,totalAmount:0,currentPage:1},reducers:{setPage:(e,a)=>{e.page=a.payload}},extraReducers:e=>{e.addCase(n.hF.pending,e=>{e.loading=!0,e.error=null}).addCase(n.hF.fulfilled,(e,a)=>{e.loading=!1,e.data=a.payload.data,e.total=a.payload.total,e.page=a.payload.currentPage,e.totalPages=a.payload.totalPages}).addCase(n.hF.rejected,(e,a)=>{e.loading=!1,e.error=a.payload}).addCase(n._f.fulfilled,(e,a)=>{e.totalAmount=a.payload}).addCase(n.k5.fulfilled,(e,a)=>{e.data.unshift(a.payload),e.total+=1}).addCase(n.eY.fulfilled,(e,a)=>{let t=e.data.findIndex(e=>e._id===a.payload._id);-1!==t&&(e.data[t]=a.payload)}).addCase(n.Wz.fulfilled,(e,a)=>{e.data=e.data.filter(e=>e._id!==a.payload),e.total-=1})}}),{setPage:d}=l.actions,o=l.reducer},4653:(e,a,t)=>{"use strict";t.d(a,{A:()=>o,I:()=>d});var r=t(51990),n=t(20099);let l=(0,r.Z0)({name:"income",initialState:{data:[],total:0,currentPage:1,totalPages:1,loading:!1,error:null,overallTotalIncome:0},reducers:{setPage(e,a){e.currentPage=a.payload}},extraReducers:e=>{e.addCase(n.Sf.pending,e=>{e.loading=!0,e.error=null}).addCase(n.Sf.fulfilled,(e,a)=>{e.loading=!1,e.data=a.payload.data,e.total=a.payload.total,e.totalPages=a.payload.totalPages,e.currentPage=a.payload.currentPage}).addCase(n.Sf.rejected,(e,a)=>{e.loading=!1,e.error=a.payload}).addCase(n.JO.pending,e=>{e.loading=!0,e.error=null}).addCase(n.JO.fulfilled,(e,a)=>{e.loading=!1,e.data=a.payload}).addCase(n.JO.rejected,(e,a)=>{e.loading=!1,e.error=a.payload}).addCase(n.B$.fulfilled,()=>{}).addCase(n.XU.fulfilled,(e,a)=>{let t=e.data.findIndex(e=>e._id===a.payload._id);-1!==t&&(e.data[t]=a.payload)}).addCase(n.rJ.fulfilled,()=>{}).addCase(n.Ko.fulfilled,(e,a)=>{e.overallTotalIncome=a.payload}).addCase(n.Ko.rejected,(e,a)=>{console.error("Failed to fetch total income:",a.payload)})}}),{setPage:d}=l.actions,o=l.reducer},10022:(e,a,t)=>{"use strict";t.d(a,{f:()=>d});var r=t(51990),n=t(97829);let l=async()=>(await n.A.get("/v1/incomes/stats?period=month")).data,d=(0,r.zD)("income/fetchIncomeStats",async(e,a)=>{try{var t;let e=await l(),a=0;return"number"==typeof e.amount?a=e.amount:e.current&&e.current.$numberDecimal&&(a=Number(e.current.$numberDecimal)),{amount:a,percentChange:null!=(t=e.percentChange)?t:0}}catch(e){if(e instanceof Error)return a.rejectWithValue(e.message);return a.rejectWithValue("Failed to fetch income stats")}})},10939:(e,a,t)=>{"use strict";t.d(a,{_:()=>o});var r=t(51990),n=t(97829);let l=async()=>(await n.A.get("/v1/expenses/stats?period=month")).data;var d=t(96592);let o=(0,r.zD)("expenseStats/fetchExpenseStats",async(e,a)=>{let{rejectWithValue:t}=a;try{var r,n,o;let e=await l(),a=(null==e||null==(r=e.current)?void 0:r.$numberDecimal)?parseFloat(e.current.$numberDecimal):null!=(n=null==e?void 0:e.current)?n:0,t=null!=(o=null==e?void 0:e.percentChange)?o:0;return{amount:a,percentChange:t}}catch(e){return t((0,d.A)(e))}})},11362:(e,a,t)=>{"use strict";t.d(a,{V:()=>o});var r=t(51990),n=t(96592),l=t(97829);let d=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return(await l.A.get("/v1/transactions/recent?limit=".concat(e))).data},o=(0,r.zD)("recentTransactions/fetchRecent",async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,a=arguments.length>1?arguments[1]:void 0;try{return await d(e)}catch(e){return a.rejectWithValue((0,n.A)(e))}})},14267:(e,a,t)=>{"use strict";t.d(a,{Providers:()=>w});var r=t(95155),n=t(34540),l=t(51990),d=t(37375),o=t(4653),s=t(10022);let c=(0,l.Z0)({name:"incomeStats",initialState:{amount:0,percentChange:0,loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(s.f.pending,e=>{e.loading=!0,e.error=null}).addCase(s.f.fulfilled,(e,a)=>{e.loading=!1,e.amount=a.payload.amount,e.percentChange=a.payload.percentChange}).addCase(s.f.rejected,(e,a)=>{e.loading=!1,e.error=a.payload||"Failed to fetch income stats"})}}).reducer;var i=t(1061),u=t(10939);let g=(0,l.Z0)({name:"expenseStats",initialState:{amount:0,percentChange:0,loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(u._.pending,e=>{e.loading=!0,e.error=null}).addCase(u._.fulfilled,(e,a)=>{e.loading=!1,e.amount=a.payload.amount,e.percentChange=a.payload.percentChange}).addCase(u._.rejected,(e,a)=>{e.loading=!1,e.error=a.payload})}}).reducer;var p=t(76075);let h=(0,l.Z0)({name:"expenseCategory",initialState:{data:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(p.h.pending,e=>{e.loading=!0,e.error=null}).addCase(p.h.fulfilled,(e,a)=>{e.loading=!1,e.data=a.payload}).addCase(p.h.rejected,(e,a)=>{e.loading=!1,e.error=a.payload})}}).reducer;var m=t(19778);let y=(0,l.Z0)({name:"balance",initialState:{amount:0,percentChange:0,loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(m.X.pending,e=>{e.loading=!0,e.error=null}).addCase(m.X.fulfilled,(e,a)=>{e.loading=!1,e.amount=a.payload.amount,e.percentChange=a.payload.percentChange}).addCase(m.X.rejected,(e,a)=>{e.loading=!1,e.error=a.error.message||"Failed to fetch balance"})}}).reducer;var f=t(84712),v=t(21118);let C=(0,l.Z0)({name:"savingsGoal",initialState:{current:0,target:0,loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(f.b.pending,e=>{e.loading=!0,e.error=null}).addCase(f.b.fulfilled,(e,a)=>{e.loading=!1,e.current=a.payload.current,e.target=a.payload.target}).addCase(f.b.rejected,(e,a)=>{e.loading=!1,e.error=a.payload}).addCase(v.z.pending,e=>{e.loading=!0,e.error=null}).addCase(v.z.fulfilled,(e,a)=>{e.loading=!1,e.target=a.payload.target}).addCase(v.z.rejected,(e,a)=>{e.loading=!1,e.error=a.payload})}}).reducer;var A=t(11362);let j=(0,l.Z0)({name:"recentTransactions",initialState:{data:[],loading:!1,error:null},reducers:{},extraReducers:e=>{e.addCase(A.V.pending,e=>{e.loading=!0,e.error=null}).addCase(A.V.fulfilled,(e,a)=>{e.loading=!1,e.data=a.payload}).addCase(A.V.rejected,(e,a)=>{e.loading=!1,e.error=a.payload||"Failed to fetch recent transactions"})}}).reducer,x=(0,l.U1)({reducer:{auth:d.A,income:o.A,incomeStats:c,expenses:i.A,balance:y,expenseStats:g,savingsGoal:C,recentTransactions:j,expenseCategory:h}});function w(e){let{children:a}=e;return(0,r.jsx)(n.Kq,{store:x,children:a})}},18927:(e,a,t)=>{"use strict";t.d(a,{j:()=>r});let r=t(34540).wA},19778:(e,a,t)=>{"use strict";t.d(a,{X:()=>d});var r=t(51990),n=t(97829);let l=async()=>(await n.A.get("/v1/balance")).data,d=(0,r.zD)("balance/fetchBalance",async(e,a)=>{try{var t;return{amount:null!=(t=(await l()).balance)?t:0,percentChange:0}}catch(e){if(e instanceof Error)return a.rejectWithValue(e.message);return a.rejectWithValue("Failed to fetch balance")}})},20099:(e,a,t)=>{"use strict";t.d(a,{B$:()=>s,JO:()=>d,Ko:()=>u,Sf:()=>o,XU:()=>c,rJ:()=>i});var r=t(51990),n=t(97829),l=t(96592);let d=(0,r.zD)("income/fetchAll",async(e,a)=>{try{return(await n.A.get("/v1/incomes")).data}catch(e){return a.rejectWithValue((0,l.A)(e))}}),o=(0,r.zD)("income/fetchPaginated",async(e,a)=>{let{page:t,limit:r}=e;try{return(await n.A.get("/v1/incomes/paginated?page=".concat(t,"&limit=").concat(r))).data}catch(e){return a.rejectWithValue((0,l.A)(e))}}),s=(0,r.zD)("income/addIncome",async(e,a)=>{try{return(await n.A.post("/v1/incomes",e)).data}catch(e){return a.rejectWithValue((0,l.A)(e))}}),c=(0,r.zD)("income/update",async(e,a)=>{let{id:t,data:r}=e;try{return(await n.A.put("/v1/incomes/".concat(t),r)).data}catch(e){return a.rejectWithValue((0,l.A)(e))}}),i=(0,r.zD)("income/delete",async(e,a)=>{try{return await n.A.delete("/v1/incomes/".concat(e)),e}catch(e){return a.rejectWithValue((0,l.A)(e))}}),u=(0,r.zD)("income/fetchTotalIncome",async(e,a)=>{try{return(await n.A.get("/v1/incomes/total")).data.total}catch(e){return a.rejectWithValue((0,l.A)(e))}})},21118:(e,a,t)=>{"use strict";t.d(a,{z:()=>o});var r=t(51990),n=t(97829);let l=async function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a?(await n.A.post("/v1/savings-goal",e)).data:(await n.A.put("/v1/savings-goal",e)).data};var d=t(96592);let o=(0,r.zD)("savingsGoal/setSavingsGoal",async(e,a)=>{let{rejectWithValue:t,getState:r}=a;try{var n;let a=r(),t=!a.savingsGoal||!a.savingsGoal.target||a.savingsGoal.target<=0;return{target:null!=(n=(await l(e,t)).amount)?n:e.amount}}catch(e){return t((0,d.A)(e))}})},30347:()=>{},32250:(e,a,t)=>{Promise.resolve().then(t.t.bind(t,65356,23)),Promise.resolve().then(t.bind(t,13568)),Promise.resolve().then(t.t.bind(t,30347,23)),Promise.resolve().then(t.bind(t,82598)),Promise.resolve().then(t.bind(t,14267))},37375:(e,a,t)=>{"use strict";t.d(a,{A:()=>o,r:()=>d});var r=t(51990),n=t(82909);let l=(0,r.Z0)({name:"auth",initialState:{user:null,token:null,loading:!1,error:null,hasFetchedUser:!1},reducers:{logout:e=>{e.user=null,e.token=null,e.hasFetchedUser=!1,localStorage.removeItem("token")}},extraReducers:e=>{e.addCase(n.Lx.pending,e=>{e.loading=!0,e.error=null}).addCase(n.Lx.fulfilled,(e,a)=>{e.loading=!1,e.token=a.payload.token,e.user={id:a.payload.id,email:a.payload.email,first_name:"",last_name:""},e.hasFetchedUser=!1}).addCase(n.Lx.rejected,(e,a)=>{e.loading=!1,e.error=a.payload}).addCase(n.DY.pending,e=>{e.loading=!0,e.error=null}).addCase(n.DY.fulfilled,(e,a)=>{e.loading=!1,e.user={id:a.payload._id,email:a.payload.email,first_name:a.payload.first_name,last_name:a.payload.last_name},e.token=a.payload.token,e.hasFetchedUser=!0}).addCase(n.DY.rejected,(e,a)=>{e.loading=!1,e.error=a.payload}).addCase(n.im.pending,e=>{e.loading=!0}).addCase(n.im.fulfilled,(e,a)=>{e.loading=!1,e.user={id:a.payload._id,email:a.payload.email,first_name:a.payload.first_name,last_name:a.payload.last_name},e.hasFetchedUser=!0}).addCase(n.im.rejected,(e,a)=>{e.loading=!1,e.error=a.payload,e.hasFetchedUser=!0})}}),{logout:d}=l.actions,o=l.reducer},65356:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_e8ce0c"}},68232:(e,a,t)=>{"use strict";t.d(a,{Wz:()=>i,_f:()=>o,eY:()=>c,hF:()=>d,k5:()=>s});var r=t(51990),n=t(97829),l=t(96592);let d=(0,r.zD)("expenses/fetchPaginated",async(e,a)=>{let{page:t,limit:r}=e;try{return(await n.A.get("/v1/expenses/paginated?page=".concat(t,"&limit=").concat(r))).data}catch(e){return a.rejectWithValue((0,l.A)(e))}}),o=(0,r.zD)("expenses/fetchTotal",async(e,a)=>{try{return(await n.A.get("/v1/expenses/total")).data.total}catch(e){return a.rejectWithValue((0,l.A)(e))}}),s=(0,r.zD)("expenses/add",async(e,a)=>{try{return(await n.A.post("/v1/expenses",e)).data}catch(e){return a.rejectWithValue((0,l.A)(e))}}),c=(0,r.zD)("expenses/update",async(e,a)=>{let{id:t,data:r}=e;try{return(await n.A.put("/v1/expenses/".concat(t),r)).data}catch(e){return a.rejectWithValue((0,l.A)(e))}}),i=(0,r.zD)("expenses/delete",async(e,a)=>{try{return await n.A.delete("/v1/expenses/".concat(e)),e}catch(e){return a.rejectWithValue((0,l.A)(e))}})},76075:(e,a,t)=>{"use strict";t.d(a,{h:()=>o});var r=t(51990),n=t(97829);let l=async e=>(await n.A.get("/v1/expenses/category-summary?month=".concat(e))).data;var d=t(96592);let o=(0,r.zD)("expense/fetchExpenseCategorySummary",async(e,a)=>{let{rejectWithValue:t}=a;try{return await l(e)}catch(e){return t((0,d.A)(e))}})},82598:(e,a,t)=>{"use strict";t.d(a,{default:()=>d});var r=t(12115),n=t(18927),l=t(82909);function d(){let e=(0,n.j)();return(0,r.useEffect)(()=>{e((0,l.im)())},[e]),null}},82909:(e,a,t)=>{"use strict";t.d(a,{DY:()=>o,Lx:()=>d,im:()=>s});var r=t(51990),n=t(97829),l=t(96592);let d=(0,r.zD)("auth/login",async(e,a)=>{let{email:t,password:r}=e;try{let{token:e,email:a,id:l}=(await n.A.post("/auth/login",{email:t,password:r})).data;return e&&localStorage.setItem("token",e),{token:e,email:a,id:l}}catch(e){return a.rejectWithValue((0,l.A)(e))}}),o=(0,r.zD)("auth/register",async(e,a)=>{let{first_name:t,last_name:r,email:d,password:o}=e;try{let e=await n.A.post("/auth/signup",{first_name:t,last_name:r,email:d,password:o});return localStorage.setItem("token",e.data.token),console.log("registerUser response.data:",e.data),e.data}catch(e){return a.rejectWithValue((0,l.A)(e))}}),s=(0,r.zD)("auth/fetchUser",async(e,a)=>{let{rejectWithValue:t}=a;try{let e=localStorage.getItem("token");if(console.log("fetchUser token:",e),!e)return t("No token found");let a=await n.A.get("/auth/user");return console.log("fetchUser response:",a.data),a.data}catch(e){return console.error("fetchUser error:",e),t((0,l.A)(e))}})},84712:(e,a,t)=>{"use strict";t.d(a,{b:()=>o});var r=t(51990),n=t(96592),l=t(97829);let d=async()=>(await l.A.get("/v1/savings-goal")).data,o=(0,r.zD)("savingsGoal/fetchSavingsGoal",async(e,a)=>{let{rejectWithValue:t}=a;try{var r,l,o;let e=await d(),a=null!=(l=null!=(r=e.target)?r:e.amount)?l:0;return{current:null!=(o=e.current)?o:0,target:a}}catch(e){return t((0,n.A)(e))}})},96592:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=e=>{var a,t;return"object"==typeof e&&null!==e&&"response"in e&&"string"==typeof(null==(t=e.response)||null==(a=t.data)?void 0:a.message)?e.response.data.message:"An unknown error occurred"}},97829:(e,a,t)=>{"use strict";t.d(a,{A:()=>l});let r=t(23464).A.create({headers:{"Content-Type":"application/json"}}),n=()=>{{let e="https://personal-finance-tracker-backend-kin7.onrender.com";return console.log("proceee",e),e?"".concat(e,"/api"):"/api"}};r.interceptors.request.use(e=>{e.baseURL=n();let a=localStorage.getItem("token");return a&&e.headers&&(e.headers.Authorization="Bearer ".concat(a)),e},e=>Promise.reject(e)),r.interceptors.response.use(e=>e,e=>{var a;if((null==(a=e.response)?void 0:a.status)===401){localStorage.removeItem("token");let e=window.location.pathname;window.location.href="/login?redirectTo=".concat(encodeURIComponent(e))}return Promise.reject(e)});let l=r}},e=>{var a=a=>e(e.s=a);e.O(0,[444,533,441,684,358],()=>a(32250)),_N_E=e.O()}]);